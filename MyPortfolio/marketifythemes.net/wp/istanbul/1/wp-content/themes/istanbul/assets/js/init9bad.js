(function($){"use strict";var IstanbulInit={init:function(){this.totopFade();this.totop();this.blog_info();this.url_fixer();this.submenu__Mobile();this.svg();this.isotopeMasonry();this.backgroundImage();this.widget__pages();this.dataStyle();this.inputCheckBoxInComment();this.inlineStyle();this.headerTrigger();this.menuItems();this.search();this.portfolioLightbox();this.mobileMenu();this.copytoclipboard();},totopFade:function(){var progress=$('.istanbul__tm_totop');var WinOffset=$(window).scrollTop();if(WinOffset>=100){progress.addClass('animate');}else{progress.removeClass('animate');}
$(window).on('scroll',function(){WinOffset=$(window).scrollTop();if(WinOffset>=100){progress.addClass('animate');}else{progress.removeClass('animate');}});},totop:function(){$(".istanbul__tm_totop").on('click',function(e){e.preventDefault();$("html, body").animate({scrollTop:0},'slow');return false;});},copytoclipboard:function(){$(".permalink_meta a").off().on("click",function(){var e=$(this);var link=e.data("href");var copy=e.data("copy");var initial=e.data("initial");var temp=$("<input>");$("body").append(temp);temp.val(link).select();document.execCommand("copy");temp.remove();e.text(copy);$(".istanbul__copy").addClass("ready").delay(2000).queue(function(nxt){$(this).removeClass('ready');e.text(initial);nxt();});return false;});},mobileMenu:function(){var mobileHeader=$('.istanbul__mobile_header');mobileHeader.find('.nav > li > a').off().on('click',function(){var element=$(this);var ul=element.siblings('ul');var parent=element.parent();if(ul.length){if(parent.hasClass('active')){ul.slideUp(300);parent.removeClass('active');parent.removeClass('full').siblings().removeClass('full');}else{ul.slideDown(300);parent.siblings().children('ul').slideUp(300);mobileHeader.addClass('active');parent.addClass('active');parent.siblings().removeClass('active');parent.addClass('full').siblings().addClass('full');}
return false;}});},portfolioLightbox__slider:function(){$('.project-info-container .owl-carousel').each(function(){var owl=$(this);owl.owlCarousel({loop:true,margin:10,smartSpeed:1000,nav:false,dots:false,items:1,});owl.closest('.slider').find('.next').click(function(){owl.trigger('next.owl.carousel');return false;});owl.closest('.slider').find('.prev').click(function(){owl.trigger('prev.owl.carousel',[300]);return false;});});},portfolioLightbox__magnific:function(){$('.istanbul__popup_youtube, .istanbul__popup_vimeo').each(function(){$(this).magnificPopup({disableOn:700,type:'iframe',mainClass:'mfp-fade',removalDelay:160,preloader:false,fixedContentPos:false});});$('.istanbul__popup_soundcloud').magnificPopup({type:'image',gallery:{enabled:true,}});},portfolioLightbox:function(){var lightbox=$('.project-lightboxes');var lightboxHTML=lightbox.html();$('body').append(lightboxHTML);$('body').append('<div class="project--closer"></div>');lightbox.remove();$('.portfolio__item').off().on('click',function(){var element=$(this);var elClass=element.data('class');$('.project-info-container.'+elClass).addClass('slide-in');$('.istanbul__wrapper').addClass('slide-out');$('.project--closer').addClass('visible');return false;});$('.project--closer,.project-info-container .closer').off().on('click',function(){$('.project-info-container').removeClass('slide-in');$('.istanbul__wrapper').removeClass('slide-out');$('.project--closer').removeClass('visible');$('.project-info-container').find('video')[0].pause();return false;});$(document).keyup(function(e){if(e.key==="Escape"){$('.project-info-container').removeClass('slide-in');$('.istanbul__wrapper').removeClass('slide-out');$('.project--closer').removeClass('visible');$('.project-info-container').find('video')[0].pause();return false;}});IstanbulInit.portfolioLightbox__slider();IstanbulInit.portfolioLightbox__magnific();},search:function(){var search=$('.istanbul__search');var body=$('body');var input=search.find('input[type="text"]');$('.searchItem a').off().on('click',function(){search.addClass('search-is-visible');body.addClass('search-is-opened').removeClass('search-is-closed');setTimeout(function(){input.focus();},800);return false;});search.find('.closer1').off().on('click',function(){search.removeClass('search-is-visible');body.removeClass('search-is-opened').addClass('search-is-closed');return false;});search.find('.closer2').off().on('click',function(){search.removeClass('search-is-visible');body.removeClass('search-is-opened').addClass('search-is-closed');return false;});},menuItems:function(){var style='<style type="text/css">';var items=$('.istanbul__header .nav > li');var speed=0.05;var ss;items.each(function(i){ss=parseInt(speed*(i+1)*100)/100;style+='.istanbul__header.nav-is-visible ul li:nth-child('+(i+1)+') i, .istanbul__header.nav-is-visible ul li:nth-child('+(i+1)+') .text{-webkit-animation-delay: '+ss+'s;-moz-animation-delay: '+ss+'s;animation-delay: '+ss+'s;}';});style+='</style>';$('body').append(style);},headerTrigger:function(){if($(".istanbul__header").length>0){var n=$(".istanbul__header");n.each(function(){var n=$(this),t=n.find(".cd-nav-trigger");t.on("click",function(t){t.preventDefault();n.toggleClass("nav-is-visible");});});$(document).on("click",function(t){if(!$(t.target).is(".cd-nav-trigger")&&!$(t.target).is(".cd-nav-trigger span")){n.removeClass("nav-is-visible");}});}
var m=$('.istanbul__mobile_header');$('.cd-mob-trigger').on('click',function(){var e=$(this);if(e.hasClass('active')){e.removeClass('active');m.removeClass('active');}else{e.addClass('active');m.addClass('active');}
return false;});},blog_info:function(){if($('.blog_info').height()===0){$('.istanbul__comment').addClass('margin-no-top');}
if($('.wp-calendar-nav').length){$('.wp-calendar-nav').each(function(){var e=$(this);if(!e.find('a').length){e.remove();}});}},runPreloader:function(){var speed=500,self=this;setTimeout(function(){self.preloader();},speed);},preloader:function(){var isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?true:false;var preloader=$('.istanbul__pageloader');if(!isMobile){setTimeout(function(){preloader.addClass('loaded');},800);setTimeout(function(){preloader.remove();},2000);}else{preloader.remove();}},inlineStyle:function(){var s='';$('.istanbul__style').each(function(){var e=$(this),v=e.val();e.val('');s+=v;});$('body').append(s);},inputCheckBoxInComment:function(){if($('p.comment-form-cookies-consent input[type=checkbox]').length){$('p.comment-form-cookies-consent input[type=checkbox]').wrap('<label class="vg_checkbox"></label>').after('<span></span>');}},dataStyle:function(){$('[data-vg-style]').each(function(){var el=$(this);var s=el.attr('data-vg-style');$.each(s.split(';'),function(i,e){el.css(e.split(':')[0],e.split(':')[1]);});});},url_fixer:function(){$('a[href*="vg_ex_link"]').each(function(){var oldUrl=$(this).attr('href'),array=oldUrl.split('vg_ex_link/index.html'),newUrl=IstanbulAjaxObject.siteurl+"/"+array[1];$(this).attr('href',newUrl);});},widget__pages:function(){var nav=$('.widget_pages ul');nav.each(function(){$(this).find('a').off().on('click',function(e){var element=$(this);var parentItem=element.parent('li');var parentItems=element.parents('li');var parentUls=parentItem.parents('ul.children');var subMenu=element.next();var allSubMenusParents=nav.find('li');allSubMenusParents.removeClass('opened');if(subMenu.length){e.preventDefault();if(!(subMenu.parent('li').hasClass('active'))){if(!(parentItems.hasClass('opened'))){parentItems.addClass('opened');}
allSubMenusParents.each(function(){var el=$(this);if(!el.hasClass('opened')){el.find('ul.children').slideUp();}});allSubMenusParents.removeClass('active');parentUls.parent('li').addClass('active');subMenu.parent('li').addClass('active');subMenu.slideDown();}else{subMenu.parent('li').removeClass('active');subMenu.slideUp();}
return false;}});});},submenu__Mobile:function(){var nav=$('ul.vert_menu_list, .widget_nav_menu ul.menu');var mobileAutoCollapse=$('.istanbul-vg-wrapper').data('mobile-autocollapse');nav.each(function(){$(this).find('a').off().on('click',function(e){var element=$(this);var parentItem=element.parent('li');var parentItems=element.parents('li');var parentUls=parentItem.parents('ul.sub-menu');var subMenu=element.next();var allSubMenusParents=nav.find('li');allSubMenusParents.removeClass('opened');if(subMenu.length){e.preventDefault();if(!(subMenu.parent('li').hasClass('active'))){if(!(parentItems.hasClass('opened'))){parentItems.addClass('opened');}
allSubMenusParents.each(function(){var el=$(this);if(!el.hasClass('opened')){el.find('ul.sub-menu').slideUp();}});allSubMenusParents.removeClass('active');parentUls.parent('li').addClass('active');subMenu.parent('li').addClass('active');subMenu.slideDown();}else{subMenu.parent('li').removeClass('active');subMenu.slideUp();}
return false;}
if(mobileAutoCollapse==='enable'){if(nav.parent().parent().hasClass('opened')){nav.parent().parent().removeClass('opened').slideUp();$('.istanbul__mobilemenu_wrap .hamburger').removeClass('is-active');}}});});},svg:function(){$('img.replaced__svg').each(function(){var img=$(this);var imgClass=img.attr('class');var imgURL=img.attr('src');$.get(imgURL,function(data){var svg=$(data).find('svg');if(typeof imgClass!=='undefined'){svg=svg.attr('class',imgClass);}
img.replaceWith(svg);},'xml');});},backgroundImage:function(){$('*[data-bg-img]').each(function(){var element=$(this);var attrBg=element.attr('data-bg-img');var bgImg=element.data('bg-img');if(typeof(attrBg)!=='undefined'){element.addClass('vg-ready').css({backgroundImage:'url('+bgImg+')'});}});},isotopeMasonry:function(){var masonry=$('.istanbul__masonry');if($().isotope){masonry.each(function(){$(this).isotope({itemSelector:'.istanbul__masonry_in',masonry:{}});});}},};$(document).ready(function(){IstanbulInit.init();});$(window).on('resize',function(e){e.preventDefault();IstanbulInit.isotopeMasonry();});$(window).on('scroll',function(e){e.preventDefault();});$(window).on('load',function(e){e.preventDefault();IstanbulInit.isotopeMasonry();setTimeout(function(){IstanbulInit.isotopeMasonry();},100);});$(window).load('body',function(){IstanbulInit.runPreloader();});})(jQuery);